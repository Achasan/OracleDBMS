# 20211018 TIL : Cookie & Session

쿠키와 세션의 정의와 각각 가지고 있는 특징들을 작성했다.

<br>

# 쿠키(Cookie)

- 사용자가 웹 사이트를 방문할 떄 웹 사이트에서 클라이언트의 컴퓨터에 저장해놓는 작은 파일
- 웹 페이지들 사이의 공유 정보를 클라이언트 컴퓨텅 저장해놓고 필요할 때 여러 웹 페이지들이 공유해서 사용할 수 있도록
  매개역할을 하는 방법이다.
- HTTP 프로토콜은 웹 브라우저의 응답 후 일정시간이 지나면 접속을 끊는 특징이 있다. 이러한 특징으로 쿠기 기술이 발달하게 되었다.

## 쿠키의 특징

    - 쿠키는 서버에서 생성이 된다.
    - 쿠키는 클라이언트 컴퓨터에 저장이 된다.
    - 쿠키의 관리는 웹 브라우저가 한다.
    - 쿠키의 크기는 4KB로 제한적이며, 300개 정도의 쿠키를 만들어 사용할 수 있다.
    - 도메인당 쿠기가 만들어진다(웹 사이트 당 하나의 쿠기가 만들어진다.)
    - 쿠키는 보안이 취약하다.

## 쿠키의 생성 방법과 관련 메서드

    * 쿠키의 생성 방법
    	- 쿠키의 생성은 쿠키 클래스를 사용하여 생성한다.
    	- 쿠키 속성 설정(setter)
    	- 쿠키의 전송(response 객체에 탑재 : addCookie())

    * 쿠키 관련 메서드
    	- setMaxAge() : 쿠키의 유효 기간을 설정하는 메서드
    	- setPath() : 쿠키 사용을 위한 디렉토리를 설정하는 메서드 (특정 경로명을 갖는 url로 전송하도록 설정)
    	- setValue() : 쿠기값을 설정하는 메서드
    	- setVersion() : 쿠키의 버전을 설정하는 메서드
    	- getMasAge() : 쿠키의 유효 기간 정보를 얻어오는 메서드
    	- getName() : 쿠키의 유효 디렉토리 정보를 얻어올 때 사용하는 메서드
    	- getPath() : 쿠키의 버전을 얻어올 때 사용하는 메서드
    	- getVersion() : 쿠키 데이터를 읽어올 때 사용하는 메서드
    	- getCookies() : 쿠키 데이터를 읽어올 떄 사용하는 메서드 > 웹 브라우저가 보낸 쿠키를 배열로 반환해주는 메서드


## 저장된 쿠키를 사용하는 순서

    1. 웹 브라우저에 요청을 하여 쿠키를 얻어온다
    2. 쿠키는 이름, 값이 쌍으로 된 배열 형태로 반환이 된다.
    		반환된 쿠키의 배열에서 쿠키의 이름을 가져온다.
    3. 쿠키의 이름을 통해서 해당 쿠키의 설정된 값을 추출함

# 세션(Session)

    - 쿠키와 마찬가지로 서버와의 connection 관계를 유지하기 위해서
    	이요자의 정보를 저장하는 객체이다.


## 세션의 특징

    - 세션은 서버에서만 접근이 가능하다. 서버의 메모리에 저장된다.
    - 쿠키보다 보안성이 높다.
    - 서버부하를 줄일 수 있다.
    - 쿠키의 기본 용량이 4KB, 300개로 제한적인 반면 세션은 데이터에 제한이 없다.
    - 브라우저당 한 개의 세션이 생성된다.
    - 로그인 상태 유지 기능이다 쇼핑몰의 장바구니 담기 기능 등에 주로 사용이 된다.

## 세션 관련 메서드

    - setAttribute() : 세션의 속성을 설정하는 메서드이다.
    		형식) session.setAttribute("id", "value")

    - getAttribute() : 세션에서 데이터를 얻어올 때(세션에 속성을 사용할 때) 이용하는 메서드
    		형식) String id = (String)session.getAttribute("id", "value")
    - getAttributeNames() :세션에서 저장되어잇는 모든 데이터의 이름을 얻어올 때 사용하는 메서드
    - removeAttribute() : 세션의 특정 데이터를 제거하는 메서드
    		형식) session.removeAttribute();
    - invalidate() : 세션의 모든 데이터를 삭제하는 메서드
    - getId() : 자동 생성된 세션의 아이디를 얻어올 때 사용하는 메서드
    - isNew() : 세션이 최초 생성되었는지 여부를 알고자 할 때 사용하는 메서드
    - getMaxInactiveInterval() : 세션의 유효 시간을 얻어올 때 사용하는 메서드
