# 오라클DB 공부 20210902

## LIKE : 특정패턴을 가지고 있는 조건을 검색
LIKE는 WHERE 조건절 뒤에 오는 연산자로, 특정패턴을 가진 데이터를 검색하는 기능을 가지고 있다.

특정 패턴을 설정하는 방법은 '%'와 '_'로 설정할 수 있다.
    % : 글자 수, 문자 제한이 없다. 무엇이든 와도 상관없다는 뜻을 가지고 있음.
    _ : 글자수에 제한을 두고, 어떤 문자가 와도 상관이 없다.

EX) WHERE ENAME LIKE '%S' : 이름이 S로 끝나는 데이터를 찾는다. 앞 문자는 어떤 문자가 와도 상관없다.
    WHERE ENAME LIKE '__S%' : 세 번째 글자가 S인 데이터를 찾는다, 첫 번째, 두 번째 문자와 뒷 문자는 어떤 문자가 와도 상관없다.

## ORDER BY : 자료 정렬시 사용

SELECT 문장의 맨 마지막에 오는 키워드로, ASC를 입력하면 오름차순, DESC를 입력하면 내림차순으로 정렬하도록 할 수 있다.

AEC의 경우에는 생략이 가능하다.
NULL값의 경우 오름차순에서는 제일 나중에 나오고, 내림차순일 경우에는 제일 먼저 나온다.

EX) SELECT * FROM MEMBER10 ORDERBY MEMNAME ASC, AGE DESC;
    MEMBER10 테이블의 이름을 오름차순으로 정렬한다. 만약 이름이 중복된다면 나이를 내림차순으로 정렬한다.
    ORDER BY에는 여러 개의 컬럼을 정렬할 수 있는데, 맨 앞의 컬럼부터 정렬순위가 정해지는 방식이다.

## NOT : 부정의 의미를 가진 키워드

긍정의 쿼리문을 작성 후 NOT을 넣어주어 사용한다. NOT은 관게연산자의 앞에 붙여주며,
비교연산자를 사용하는 겨웅에는 WHERE 뒤에 붙여준다.

EX) WHERE ADDR NOT LIKE '경기도%';      경기도로 시작하지 않는 주소를 불러오도록 한다.
    WHERE NOT OUTPUT_PRICE < 1000000;   출고가가 1000000원 이상인 데이터를 불러온다.


# 주로 사용하는 그룹함수

AVG() : 평균값을 구해주는 함수, 매개값으로 컬럼을 넣어줄 수 있다.
COUNT() : 행의 갯수를 구해주는 함수이다. NULL은 COUNT에 포함되지 않는다.
MAX() : 컬럼의 값들 중 최댓값을 구해주는 함수이다.
MIN() : 컬럼의 값들 중 최솟값을 구해주는 함수이다.
SUM() : 컬럼들의 데이터 값들을 합한 값을 구해주는 함수이다.

# 시퀀스(SEQUENCE)

오라클에서는 자동순번을 부여하는 기능이 없는데, 대신 시퀀스를 사용할 수 있다.
시퀀스는 순번을 정할 때 사용하는 문법을 말한다. 시퀀스를 사용하는 이유는 스레드와 관련이 있는데,
A, B, C, D 라는 유저가 게시물을 작성하고 있다. 왼쪽부터 먼저 들어온 순서대로 게시물을 작성하였으나,
게시글을 업로드한 순서는 C, B, A, D 순서가 되었다. 이 경우, 게시물 순번은 업로드가 먼저 이루어진 C부터 순번이 부여되어야 한다.
따라서 순번을 업로드 된 순서대로 부여하기 위해 시퀀스를 사용한다.

## 시퀀스 생성
CREATE SEQUENCE (시퀀스이름) START WITH (시작 수) INCREMENT BY (증가할 수);
시퀀스를 생성하기 위해서는 시퀀스 이름을 생성하고, 시퀀스의 시작하는 수와, 몇 씩 수를 증가시킬 지를 정해서 생성할 수 있다.

## CACHE_SIZE
시퀀스를 생성하면 시퀀스 정보에 CACHE_SIZE 항목을 볼 수 있다. 기본값은 20으로 설정되어있는데, 20의 용량만큼 데이터를 임시저장하여
사용한다는 뜻이다. 캐시메모리는 휘발성 메모리로, 만약 서버(컴퓨터)가 갑자기 꺼지는 상황이 발생하면 캐시메모리에 저장되어있던
20의 용량에 있던 값들은 사라지게 된다. 순번20번 까지를 캐시메모리에 미리 저장해놓은 상태에서 게시글이 10개가 작성되어 순번이 10까지 부여되어 DB에 저장되어있었는데, 컴퓨터가 꺼진다면
다시 서버를 동작시켰을 때 시퀀스는 21부터시작하게 된다. 이러한 문제가 발생할 수 있기 때문에 캐시메모리는 안 사용하는 것을 권장한다.