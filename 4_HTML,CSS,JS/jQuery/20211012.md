# 20211012 TIL : jQuery 내용 정리

jQuery는 자바스크립트 언어를 간편하게 사용가능하도록 단순화시킨 오픈소스 기반의 라이브러리이며, 자바스크립트의 DOM을 좀 더 쉽게 다루기 위해 설계되어져 있다. jQuery를 통해 이벤트처리를 손 쉽게 구현할 수 있으며, 모든 브라우저에서 호환이 가능하다는 것이 장점이다.

동적으로 DOM을 손쉽게 처리가 가능하다. 물론 CSS도 간단하게 적용할 수가 있다.

개인적인 생각으로 jQuery는 미래에 자연스럽게 도태되지않을까 생각하는 라이브러리이다. 많은 기능들을 손쉽게 지원하지만 현재에는 node.js, React 등 보다 상호작용이 간단하고 최신 기능들을 지원하는 라이브러리들이 많기 때문이다. 물론 아직 jQuery의 점유율은 가장 높고, 사람들이 많이 알고 많이 사용하는 라이브러리임에는 확실히다. 알아두어서 나쁠건 없다는 생각이다.

### jQuery 사용 방법

제이쿼리를 사용하는 방법은 두 가지 이다. 하나는 제이쿼리 라이브러리를 공식 홈페이지에서 다운받은다음 파일로 변환하여 자신의 프로젝트 파일에 넣은다음 import 하여 사용하는 방법, 하나는 jQuery 주소를 연동시켜 사용하는 방식인데, 이 방식은 CDN 방식이라고 부른다.

CDN 방식은 Content Delivery Network의 약자로, 사용자가 요청한 컨텐츠를 사용자와 가장 가까운 곳에 위치한 서버에 전달하는 방식을 말한다.

가장 안전한 방법은 직접 라이브러리를 다운받아 프로젝트파일에 넣어놓는 것이다. CDN 방식을 사용할 경우 서버에 문제가 생기면 내가 만든 웹페이지도 작동이 안될 수 있으므로, 만일을 대비하여 CDN보다는 직접 파일을 넣어놓고 사용하는 편이 좋다.

[jQuery](https://jquery.com/download/) 홈페이지에 방문하여 소스코드를 다운로드받거나, 여러 CDN 서버중에 원하는 서버를 선택하여 다운 받으면 된다.

## jQuery 태그 지정방법

보통 JS에서는 document.querySelector() 를 작성하여 태그를 선택한다. 하지만 jQuery에서는 $('태그')를 통해 태그를 선택할 수 있다. 예를 들어 body 태그를 선택한다면 $('body')를 입력하는 것 만으로 body 태그를 선택할 수 있다. 간단하게 body태그의 background-color를 변경해보자,

$('body').css('background-color', 'salmon');

body태그의 css를 적용하는 함수는 css이다. jQuery는 태그를 선택 후, 뒤에 .을 붙이고 사용할 함수를 작성하여 사용하면된다. css함수의 매개값으로는 속성이름과 속성값을 입력해주면 된다. background-color를 salmon색으로 바꾸어 웹페이지 전체 배경색을 바꾸었다.

## jQuery의 여러가지 선택자

jQuery에서는 다양한 선택자가 있다. 기본적으로 $()를 사용해 클래스, 아이디, element, 여러가지 선택자들을 선택할 수 있다. querySelector()처럼 사용하면 되어서 어렵지는 않다.

$()를 통해 태그를 선택하고, 선택한 태그의 부모태그를 불러오고싶다면 parent() 함수를 사용하면 된다. 선택한 태그의 자식태그를 선택하고 싶다면 $('element child') 형식으로 태그를 입력하면 된다. 이 경우에는 자식의 자식태그까지 전부 선택된다. children() 함수도 위와 같은 기능이다.

그렇다면 자식태그'만' 선택하기위해서는 어떻게 해야될까? $('element > child') 형식으로 작성해주면 된다. 꺽새를 넣어주면 선택한 태그 기준으로 자식태그만 선택이 되며, 자식의 자식태그는 선택되지 않는다.

### 인접 관계 선택자

인접관계 선택자로는 prev()와 next() 함수가 있다. 선택한 태그를 기준으로 이전태그, 다음 태그를 선택하는 선택자이다. prevAll()은 선택태그 기준 이전에 있는 모든 태그들을 선택하고, nextAll()은 선택태그 기준 이후에 있는 모든 태그들을 선택한다.
선택한 태그를 기준으로 모든 형제요소를 선택하는 선택자는 siblings() 이다. 부모태그, 자식태그를 제외한 모든 태그들을 선택한다.

### 탐색 선택자

jQuery의 탐색 선택자를 이용하면 직접 선택자를 이용해 선택한 요소 중 원하는 요소를 한번 더 탐색하여 정확히 선택할 수 있는 장점이 있다.
탐색 선택자의 종류로는 위치탐색, 속성탐색, 콘텐츠 탐색, 필터링 선택자가 있다.

위치탐색 선택자는 말 그대로 태그의 위치를 찾아서 선택하는 선택자이다.
first() 함수를 사용하면 전체 elements 중에서 첫 번째 태그를 선택한다.
last() 함수는 당연히 마지막 태그를 선택한다.

홀수 요소들을 선택할 때는 odd() 함수를 선택하여 홀수index에 있는 요소들을 한번에 선택이 가능하고 even() 함수는 반대로 짝수 요소들을 한번에 선택한다.

특정 숫자요소를 선택하기 위해서는 nth-child()를 사용하는데, 이것은 함수라기보다는 태그선택자에 사용하는 키워드라고 보는것이 좋다.
예를들어 $('li:nth-child(3)').css('color', 'blue'); 와 같이 작성했을 때는 li 태그 중 세 번째 태그를 선택하게 된다. 여기서 주의해야할 점은 0부터 시작하지 않고 1부터 시작한다는 점이다.
$('li:nth-child(3n)').css('color', 'blue'); 3의 배수마다 태그를 지정하기위해서는 n을 뒤에 붙여주면 된다.

요소를 선택하는 선택자도 있는데, 다음과 같다.

    	1. 요소[속성] : 속성이 있는 요소 가져요기
    	$("a[title]").css("border", "3px solid red");

    	2. 요소[속성=값] : 속성과 값이 일치하는 요소 가져오기
    	$("a[href='http://www.naver.com']")
    					.css("background-color", "pink");

    	3. 요소[속성^=값] : 값으로 시작하는 요소 가져오기
    	$("a[href^='mailto']")
    					.css("background-color", "aqua");

    	4. 요소[속성$=값] : 값으로 끝나는 요소 가져오기
    	$("a[href$='net']")
    					.css("background-color", "lightgray");

    	5. 요소[속성*=값] : 값을 포함하는 요소 가져오기
    	$("a[href*='daum']")
    					.css("border", "1px solid red");

    	6. 요소[속성=값][속성=값] : and 조건으로 조건 2개의 속성과 값을 모두 만족하는 요소 가져오기
        $("a[href^='mailto'][href$='com']")
        				.css("border", "3px solid red");

속성을 조작하기 위해서는 html() 함수를 사용하면 되는데, JS의 경우에는 innerHTML과 같은 기능을 가진다. text() 함수는 선택한 요소 내의 텍스트를 불러오거나 텍스트를 바꿀 때 사용하는 함수이다.

## 이 외 다양한 jQuery 함수

속성 조작 메소드 - removeAttr('props') : 선택한 요소에서 기존의 속성을 삭제할 때 사용 - attr('props') : 선택한 요소에 새로운 속성을 추가 - attr('props', 'value') : 선택한 요소에서 새 속성을 추가하거나 기존의 속성을 변경 시 사용 - addClass() : 선택한 요소에 클래스 선택자를 생성 - removeClass() : 선택한 요소에 지정된 클래스 선택자 삭제 - val('value') : 선택한 요소에 있는 value 값을 가져온다 input 태그에서 사용한다. 매개값을 입력하여 변경이 가능하다.

컨텐츠 탐색 선택자 : 요소, 속성이 포함 여부에 따라 특정 요소를 선택하는 선택자 - $("요소선택:contains(텍스트)")
: 텍스트를 포함하는 요소만 선택하는 선택자.

- $("요소선택").contents()
  : 선택한 요소 중 가장 가까운 하위 요소를 선택하는 선택자.

      - $("요소선택:has(요소명)") / $("요소선택").has(요소명)
         : 요소 중 요소명을 포함하는 요소만 선택하는 선택자.

      - $("요소선택:not(제외요소)") / $("요소선택").not(제외요소)
         : 제외요소만 제외하고 선택하는 선택자.

      - $("요소선택1").closest("요소선택2")
         : 요소선택1을 감싸는 상위 중 가장 가까운 상위 요소를 선택하는 선택자.

      - $("요소선택").탐색선택자().end()
         : 필터링이 실행되기 이전의 요소선택인지 선택하는 선택자.

      - $("요소선택").filter(필터요소)
         : 필터요소만 선택하는 선택자.

      - $("요소선택").find(요소선택2)
         : 요소선택2만 선택하는 선택자.

요소 편집 메서드 - 선택한 요소를 복제하거나 새 요소를 생성하는 메서드. - 복제하거나 새로 생성한 요소를 의도한 위치로 삽입하고
선택한 요소를 삭제하는 기능.

before() : 선택한 요소 이전 위치에 새 요소를 추가하는 메서드.
형식) $("요소선택").before("새 요소")
after() : 선택한 요소 다음 위치에 새 요소를 추가하는 메서드.
형식) $("요소선택").after("새 요소")

    - 선택한 요소를 복제하거나 새 요소를 생성하는 메서드.
    - 복제하거나 새로 생성한 요소를 의도한 위치로 삽입하고
            선택한 요소를 삭제하는 기능.
    before() : 선택한 요소 이전 위치에 새 요소를 추가하는 메서드.
            형식) $("요소선택").before("새 요소")
    after() : 선택한 요소 다음 위치에 새 요소를 추가하는 메서드.
            형식) $("요소선택").after("새 요소")
    insertBefore() : 선택한 요소의 이전 위치에 새 요소를 추가하는 메서드.
            형식) $("새 요소").insertBefore("요소선택")
    insertAfter() : 선택한 요소의 다음 위치에 새 요소를 추가하는 메서드.
            형식) $("새 요소").insertAfter("요소선택")
    clone() : 선택한 요소를 복사하는 메서드.
            형식) $("요소선택").clone()
    empty() : 선택한 요소의 하위 내용들을 모두 삭제하는 메서드.
        	형식) $("요소선택").empty()

    remove() : 선택한 요소를 삭제하는 메서드.
            형식) $("요소선택").remove()

    replaceWith() : 선택된 요소만 새 요소로 교체하는 메서드.
    	    형식) $("요소선택").replaceWith("새 요소")

    replaceAll() : 선택 요소 전체를 새 요소로 교체하는 메서드.
    	    형식) $("새 요소").replaceAll("새 요소")

### jQuery를 통해 이벤트 처리하기

jQuery를 사용하는 큰 이유 중 하나는 이벤트 처리와 애니메이션 처리일 것이다.
몇 줄 작성하지않아도 괜찮은 이벤트리스너와 애니메이션을 작성하여 사용할 수 있다.
빈도가 높은 이벤트 리스너들을 알아보자.

- 이벤트 함수 작성방법
  이벤트 형식 : $('요소 선택').on('이벤트 이름', 이벤트리스너(함수))
  이벤트리스너는 보통 무명클래스를 이용하여 처리한다. 같은 형식의 기능이 실행될 경우에는 function으로 선언하고 사용하는게 좋다.

사용할 수 있는 이벤트의 종류는 굉장히 다양하다. 따라서 상황에 맞는 이벤트를 사용하고, 굳이 이벤트들을 전부 외울 필요는 없다. 이런게 있구나 정도로 이해하는 것이 좋을 것 같다. 자주 사용하는 이벤트들만 사용방법을 알아보도록 한다.

- jQuery에서 제공하는 이벤트 종류
  blur, change, load, unload, resize, scroll, select
  submit, click, dblclick, mousedown, mouseup, mousemove,
  mouseover, mouseout, mouseenter, mouseleave, focus
  keydown, keypress, keyup

### jQuery를 통한 애니메이션 처리

jQuery를 통한 애니메이션 처리의 몇 가지 기능들을 살펴보았다. 다양한 기능들을 지원하는 것 같지만, 자주 사용하는 기능들을 살펴본다.

효과 관련 메소드

- hide() : 노출되어있는 요소를 숨기는 기능을 하는 메소드
  형식) $('element').hide(속도(ms), 콜백함수);
- show() : 숨겨져 있떤 요소를 노출시키는 기능을 하는 메소드
  형식) $('element').show(속도(ms), 콜백함수);

  toggle() : 선택한 요소가 보이면 숨기고, 숨겨져 있으면 보이게 하는 기능하는 메소드
  형식) $('element').toggle(효과속도, 콜백함수)

- fadeIn() : 숨겨져 있던 요소가 점점 투명해지면서 노출이 되는 기능
- fadeOut() : 노출이 되어 있떤 요소가 점점 사라지는(불투명) 기능
- fadeToggle() : 노출이 되어있던 요소는 점점 사라지고, 사라져 있던 요소는 점점 선명해지면서 노출이 되는기능

- fadeTo() : 선택한 요소를 지정한 투명도의 값까지만 숨기는 기능
  투명도는 0부터 1사이의 값까지만 입력이 가능하다
  형식) $('element').fadeTo(효과속도, 투명도)

- slideUp() : 선택한 요소를 숨길 때 사용하는 메소드
  형식) $('element').slideUp(효과속도, 콜백)
- slideDown() : 선택한 요소를 숨길 때 사용하는 메소드
  형식) $('element').slideDown(효과속도, 콜백)
- slideToggle() : 선택한 요소를 숨길 때 사용하는 메소드
  형식) $('element').slideToggle(효과속도, 콜백)

animate() : 선택한 요소에 다양한 동적 효과를 적용하는 메소드이다.
형식) $('element').animate({animation property}, motion speed(ms), callback); \* 애니메이션 속성에는 모션으로 적용할 속성을 CSS를 이용하여 입력한다.

stop() : 선택한 요소에 효과 또는 애니메이션이 적용된 효과를 정지시키는 메소드
delay() : 선택한 요소의 효과 또는 애니메이션이 적용될 효과를 지연시키는 메소드
