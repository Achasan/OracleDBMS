# JavaScript 공부 : 2021년 10월 3일

<br>

## 1. JS파일을 효율적으로 불러오는 방법

보통 HTML에서 자바스크립트 파일을 불러올 때 script 태그를 사용하여 자바스크립트 파일을 연결시킨다. head 태그 안에 작성하기도하고 body 태그에 작성하기도 하는데, 태그의 위치에 따라서 웹페이지의 로딩속도가 달라지게된다.

head 태그에 script 태그를 집어넣었을 경우, 브라우저가 HTML을 읽다가 script태그를 만나면 script 태그의 src에 있는 경로를 통해 js파일을 다운받고, 다운받은 js 파일을 실행하게 된다. 다운받고 실행이 다 완료될때까지 웹페이지는 로딩되지 않는다.

만약 js 파일의 코드가 길고 용량이 클 경우에는 그 만큼 사용자가 기다려야되는 시간이 길어지게 되는 것이다. 특히 head 태그에서 script 태그를 만났을 경우 아직 body 태그를 읽기도 전이여서 웹페이지에는 기본적인 HTML태그 조차 보이지않는다.

그렇다면 body 태그에 script 태그를 넣으면 되지 않을까? body 태그의 맨 마지막줄에 script 태그를 넣으면 기본적인 HTML태그들은 웹페이지에 로드되어 사용자가 볼 수 있을 것이다. 하지만 웹페이지가 js 파일에 매우 의존적이라면 사용자가 HTML로 작성된 웹페이지만 봐서는 정확한 정보를 전달받기 힘들 것이다.

따라서 이를 보완하기위해 js를 불러올 때 병렬로 불러와서 JS파일을 로드하는 것과 HTML페이지를 불러오는 것을 동시에 진행할 수 있도록 하는 키워드가 존재한다.

먼저 두 키워드의 사용법은 다음과 같다.
<br />
`<script asyn src="main/js"></script>` <br />
`<script defer src="main/js"></script>` <br />

두 키워드의 타입 자체는 boolean으로 설정되어있어서 true값을 리턴하기때문에 입력만으로도 사용이 가능하다. 그렇다면 두 키워드의 차이점을 알아보도록 하자.

예를들어 asyn 키워드를 사용하여 브라우저가 자바스크립트 파일을 3개를 불러온다고 가정해보자, 브라우저가 HTML파일을 읽던 중에 script 태그를 만나게 되면 HTML 태그를 읽으면서 js파일을 다운로드 받는다. 3개의 JS파일들은 코드길이에 따라서 용량이 각각 다를 것이고, 다운로드가 완료되는 속도도 다를 것이다. 브라우저는 3개의 js파일을 다운로드받고, 다운로드가 완료된 js파일을 읽어온다.

병렬처리를 동해 보다 효율적인 웹페이지 로딩이 되었다. 하지만 문제점이 하나 발생할 수 있다. js파일을 순서대로 로드해야되는 경우에는 어떻게될까? 가장 먼저 다운로드되는 순서대로 js가 실행되기 때문에 개발자가 의도한대로 js파일을 로딩하기는 힘들 것이다. async는 체계적으로 js파일을 로딩하지 못하는 단점을 가지고 있다. 또한 다운로드한 js파일을 바로 실행하여 읽어오게되는데, 그 동안 HTML을 로딩하는 직업은 blocked 되어진다.

그렇다면 defer 키워드를 사용한다면 어떨까? defer은 async처럼 script 태그를 다운로드하는 동시에 HTML을 읽는 병렬처리를 갖는다는 점에서 async와 공통점을 갖는다. 그러나 js파일을 다운받는대로 바로 실행시켜서 로딩하지않고, HTML이 전부 로드될때가지 기다린 다음에 script 태그에 작성된 js파일을 순서대로 실행시킨다. 보다 체계적이고 안정적으로 웹페이지를 로딩하기때문에 가장 선호하는 방식이다. 따라서 웬만하면 script 태그를 로딩할 때는 defer 키워드를 사용하도록 하자.

<br>

## 2. 'use strict' 키워드

자바스크립트는 유연한 언어이다. 따라서 개발자가 실수로 코드를 작성하지 않았을 경우에도 javascript는 자기가 작동할 수 있는 방식대로 임의로 변경하여 코드를 실행시켜버린다. 이럴 경우 의도치않은 오류가 발생할 수 있어서 상당히 위험하다. 따라서 use strict 키워드를 사용하여 비정상적인 코드의 실행을 하지 못하도록하고, 오류로 출력할 수 있도록 하게하는 키워드이기 때문에 Javascript코드를 작성할 때 첫줄에 쓰고 하는 습관을 들이도록 하자.

<br>

## 3. JavaScript data types

자바스크립트의 대략적인 데이터 타입들을 알아보고자 한다. ECMA6을 기준으로 알아보자.

### const, let, var

const는 constant의 줄임말이다. 한 번 변수를 선언하면 안에있는 값을 바꿀 수 없다.
let은 선언한 변수의 값이 변할 수 있어서 처음에 변수값을 선언하더라도 값을 바꿀 수 있다. var는 지금 쓰이지 않는 데이터타입인데, var의 데이터처리방식이 너무 비상식적이기 때문이다.

먼저 const와 let을 살펴보자.

const hello = 'hello javascript';

const hello = 'hello'; // 에러 발생

console.log(hello);

let hi = 'hello js';

hi = 'hello';

console.log(hi);

const는 한번 값이 지정되면 바꿀 수 없으므로 값을 바꾸려하면 에러가 발생된다. 하지만 let은 값을 바꿔도 정상적으로 브라우저가 작동한다. 두 데이터 타입은 먼저 변수를 선언하고, 선언한 동시에 데이터값을 입력해서 코드를 작성하였다. 이번엔 var 데이터타입을 보도록 하자.

number = 6;

var number;

console.log(number);

위의 코드를 실행하면 브라우저에서 정상적으로 작동이 된다. 분명 데이터 타입을 먼저 선언하지 않고 변수명과 데이터만 선언한 다음 데이터타입을 선언하여 순서가 뒤죽박죽인데도 브라우저에서 정상적으로 작동이된다. 이를 var hoisting이라고 이야기하는데, 아래에 있는 변수를 위로 끄집어내서 변수타입을 만들어내는 것을 뜻한다. 정상적인 처리방식은 확실히 아니다. 따라서 var는 ES6부터 잘 쓰지않는 데이터타입이 되었고 const와 let을 중점적으로 사용하게된다.

<br />

## 4. JavaScript Variable Types

자바스크립트의 변수 타입으로는 number, string, boolean, null, undefined, symbol 등이 있다.

number는 뜻 그대로 숫자를 뜻한다. 다른 언어에서는 숫자형 변수타입에서도 여러가지로 나뉘지만, javascript는 number 하나로 모든 숫자를 표현할 수 있다.

string은 문자열을 나타내는 타입이다. '' 작은따옴표를 사용하여 문자열을 입력하여 사용한다. 문자열을 연산하는 것도 가능하다.

예를들어 'hong' + ' gil dong' = 'hong gil dong' 으로 표현이된다.
숫자와 문자와의 연산도 가능한데, 숫자와 문자를 +로 연산하게되면 숫자는 문자로 처리되서 연산이 수행되게 된다.
5 + '3' = '53' 과 같은 방식이다.

boolean은 true와 false 두 가지의 데이터값을 나타는 데이터타입이다. javascript에서 조금 독특한 부분을 발견했는데, 0, null, undefined, NaN, '' 는 boolean 타입의 데이터값으로 넣어주면 false를 리턴하게된다는 방식이었다. 이 부분은 응용할 부분이 있을거 같아 잘 알아두는 것이 좋을 것 같다.

자바를 공부하면서 대부분 아는 데이터타입이지만 symbol 데이터타입은 처음 보게된 타입이다. symbol은 같은 데이터값이라도 고유한 식별자가 필요로 할 때 사용하는 타입이다. 사용방법은 const symbol1 = Symbol('id'); 와 같은 방식으로 사용한다.

const symbol1 = Symbol('id');
const symbol2 = Symbol('id');

symbol1 === symbol2 // false

같은 'id' 문자열을 Symbol에 집어넣었지만 두 변수는 다르다고 나온다. 식별값이 다르기 때문에 자료구조나 데이터처리를 할 때 사용하는 데이터타입이니 알아두도록 해야겠다.

<br>

## 5. AND(&&) OR(||) 작동방식 알아보기.

AND 연산자는 두 피연산자가 모두 true 값을 리턴해야 true를 반환하는 연산자이다. 만약 앞에있는 연산자가 false를 리턴하면 AND연산자는 더 이상 연산을 진행하지 않고 바로 false를 리턴해버린다. 이를 이용해서 function을 통해서 연산과정을 진행한 다음에 리턴하는 값이 있다면 맨 뒤로 보내고, 가벼운 연산절차를 통해서 boolean 값을 리턴하는 값들을 앞으로 배치하는 것이 보다 효율적인 코드작성이 될 수 있다.

OR도 마찬가지이다. 앞에있는 피연산자들 부터 순서대로 확인하여 하나라도 true를 리턴하면 true를 리턴하고 뒤에있는 피연산자들의 값을 확인하지 않는다. 따라서 값을 리턴하기까지의 과정이 heavy한 데이터값들은 뒤에 배치해 주는 것이 효율적인 코드작성에 도움이 된다.

<br />

## 6. == 과 ===의 차이점

== 은 loose equality로, 단순히 데이터의 value만 판단하여 true와 false를 리턴한다.

const stringValue = '5';

const numberValue = 5;

boolean check = stringValue == numberValue; // true 값이 check 변수에 저장된다.

stringValue가 문자열이지만 자바스크립트는 문자열 5도 결국 숫자 5와 같으니까 두 피연산자는 타입이 다르더라도 true를 리턴하게된다.

따라서 데이터값 뿐만 아니라 데이터타입까지 비교하기위해서는 === 를 사용하여야한다.

정리하자면,

== : 단순히 데이터값만 비교하여 true false 리턴

=== : 데이터값과 데이터타입을 비교하여 둘 다 같으면 true를 리턴 아니면 false 리턴

<br />

## 7. Rest Parameters

function을 만들 때 parameters로 배열을 넣을 수도 있다.

function printAll(...args) {
for(let i = 0; i < args.length; i++) {
console.log(args[i]);
}
}
printAll('dream', 'coding', 'ellie');

printAll() 함수를 보면 매개값으로 ...args가 들어가 있는 것을 볼 수 있다. ...은 배열을 뜻하고, 해당 배열의 변수이름을 args로 지정한 것을 볼 수 있으며, 매개값으로 배열을 집어넣고 for 반복문을 사용하여 index마다 console.log() 함수를 호출한 것을 볼 수 있다. 배열을 매개값으로 넣을때는 ... 키워드와 변수명을 사용한다는 것을 알아두자. 사실 이전에 학습했던 배열 함수중 forEach() 함수를 위와 같이 선언한 것과 다름이 없다.
